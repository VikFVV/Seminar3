## Инструкция по работе с Git

## Что такое Git и зачем он нужен?

Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов. Например, для картинок - полезно для дизайнеров.

С помощью Git-a вы можете откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.

Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.

Так же ваши репозитории можно хранить и в интернете. Обычно для этого используют три сервиса:

* GitHub
* BitBucket
* GitLab

Каждая точка сохранения вашего проекта носит название коммит (commit). У каждого commit-a есть hash (уникальный id) и комментарий. Из таких commit-ов собирается ветка. Ветка - это история изменений. У каждой ветки есть свое название. Репозиторий может содержать в себе несколько веток, которые создаются из других веток или вливаются в них.

## Созданиенового репозитория

Что бы создать новый репозиторий(инициализировать) нужно ввести комманду:

    git init
    
## Проверка актуального состояния репозитория

Для того, что бы проверить в каком состоянии находится репозиторий нужно ввести команду:

    git status

    git add <File name>
    git commit -m "message"
    git commit -am "message"

    git diff
    git diff <hash1> <hash2>

    git checkout <hash>

    git log
    git log --oneline
    git log --all
    git log --all --oneline


## **Как работает**

Если посмотреть на картинку, то становиться чуть проще с пониманием. Каждый кружок, это commit. Стрелочки показывают направление, из какого commit сделан следующий. Например C3 сделан из С2 и т. д. Все эти commit находятся в ветке под названием main. Это основная ветка, чаще всего ее называют master . Прямоугольник main* показывает в каком commit мы сейчас находимся, проще говоря указатель.

![Alt text](753f854b2ca82a2a5112e9717d1a5856.png)

В итоге получается очень простой граф, состоящий из одной ветки (main) и четырех commit. Все это может превратиться в более сложный граф, состоящий из нескольких веток, которые сливаются в одну.

![Alt text](137e034eadd3c4459a734354a029fb1a.png)

Об этом мы поговорим в следующих статьях. Для начала разберем работу с одной веткой.

## Git для новичков (часть 2)

## **Совместная работа**

Представим, что вы с друзьями придумали проект, с "блэкджеком" и ... Вы разделили обязанности. Кто-то будет делать авторизацию и регистрацию, а кто-то функционал вывода новостей. Для этого вам пригодится ветвление.

![Alt text](137e034eadd3c4459a734354a029fb1a.png)

**Ветка** - это набор commit (кружок), которые идут друг за другом. У ветки есть название, основную ветку чаще всего называют master (на картинках будет называться main) . Если говорить простыми словами, то ветка master - это наш проект.

Другие ветки - это отдельное место для реализации нового функционала или исправление багов (ошибок) нашего проекта. То есть, с отдельной веткой вы делаете что угодно, а затем сливаете эти изменения в основную ветку master.

? Не рекомендую создавать commit напрямую в master . Лучше для этого заводить новую ветку и все изменения писать там.

Для того, чтобы создать новую ветку вводим:

    git branch <название_ветки>
    #или вот так
    git checkout -b <название_ветки>

![Alt text](2c30a16996c18d3c2496bb6bde28cc90.png)

Эти команды делают тоже самое, только второй вариант позволяет сразу переключиться в новую ветку. Вносить изменения в новую ветку можно сразу после ее создания.

При создании новой ветки, старайтесь называть ее кратким и ёмким именем. Чтобы сразу было понятно, что именно изменялось по проекту. Если вы используете, какую-нибудь систему для ведения задач, то можете в начале названия ветки указывать ID задачи, чтобы можно было легко найти, на основе какой задачи была создана ветка. Например вот так:

    3424_fix_catalog_ajax

В каждом новом commit следует оставлять коммент и в нем описывать суть изменений.

Переключаться между ветками можно такой командой:

    git checkout <название_ветки>

После того, как вы завершили работу над своей задачей, ветку можно слить в master . Для этого нужно переключиться в ветку master и выполнить следующую команду:

    # Переключаемся в master
    git checkout master
    # Обновляем локальную ветку с сервера
    git pull origin master

    # Делаем merge вашей ветки, в ветку в которой вы находитесь
    # В данном примере это master
    git merge <название_ветки>

![Alt text](137e034eadd3c4459a734354a029fb1a.png)

**!** Перед тем как сливать новый merge , стоит обновить локальную ветку master , во избежания дальнейших проблем.

Команда merge берет все изменения из ветки (например bugFix) и добавляет их в ветку master.

Для того чтобы посмотреть текущее состояние ветки, например, какие файлы добавлены или не добавлены для создания commit, можно выполнить команду:

    git status

Другие пользователи не увидят вашу ветку, пока она не будет отправлена на удаленный репозиторий. Поэтому, после того как вы слили все изменения в master , нужно отправить их в GitHub. Для этого **обязательно** нужно находиться в ветке master :

    git checkout master

    # Отправляем наши изменения в GitHub
    git push origin master
    
?Совет. Каждый коммит, лучше заливать сразу в удаленный репозиторий. Никто не застрахован, поломки собственного ПК. Поэтому чтобы не потерять все наработки, не забывайте сливать ваши изменения на GitHub.

## Ветвления

Почти каждая система контроля версий (СКВ) в какой-то форме поддерживает ветвление. Используя ветвление, Вы отклоняетесь от основной линии разработки и продолжаете работу независимо от неё, не вмешиваясь в основную линию.


### Отображение всех имеющихся веток

Для показа всех веток используется команда:

    git branch

### Что бы создать новую ветку нужно использовать команду:

git branch <branch_name>

### Что бы переключиться на другую ветку мы используем команду:

    git checkout <branch_name>

### xnj ,s

    git log --graph

### Что бы удалить ветку нужно использовать команду:

    git branch -d <branch_name>

### Что бы переключиться на другую ветку нужно использовать команду:

    git checkout <branch_name>

### Что бы объединить ветку с текущей нужно использовать команду:

    git merge <branch_name>

    
описание команд:

    git branch
    git branhc <branch_name>
    git branch -d <branhc_name>
    git checkout <branch_name>
    git log --graph
    git log __all --oneline --graph
    git merge <branch_name>

    Конфликт слияния и его разрешение